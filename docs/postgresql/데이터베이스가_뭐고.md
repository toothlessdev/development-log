# 데이터베이스가 뭐고

디비는 정보저장에 활용됨. 어떤 데이터를 넣으면 메모리나 하드디스크에 지속되고, 나중에 회수할수 있음

디비 사용하려면 클라이언트 연결해야함
클라이언트는 API 서버일수도 있음. PG DB 에 연결하는 어떤 유틸리티 프로그램일수도 있음
SQL 을 사용하면 이렇게 연결할 수 있음 (데이터베이스와 상호작용하는 언어)

효율적인 쿼리작성, 스키마 구조작성, 고급기능활용, 프로덕션환경에서 데이터베이스 관리 등을 하기위해서는 SQL 이 필요함

## 디비 구축 어케함 ?

### 데이터베이스 디자인 프로세스

1. 우리가 저장하는게 무엇인가 ? (= Table)

2. 무슨 속성을 가지고 있는가 (= Column)
    - 예. 이름,
3. 각 속성이 참조하거나 포함하는 데이터 타입은 뭔가? (= Column Type)

```sql
-- KEYWORD Identifier (
--    column <TYPE>,
-- )
CREATE TABLE cities(
    name VARCHAR(50),
    country VARCHAR(50),
    population INTEGER,
    area INTEGER
);
```

# 기본 쿼리

## 디비 insert

### 단일 행 삽입

```sql
INSERT INTO cities (name, country, population, area)
VALUES ('daegu', 'korea', 123456, 12);
```

### 여러 행 삽입

```sql
INSERT INTO cities (name, country, population, area)
VALUES
('daegu', 'korea', 123456, 12),
('busan', 'korea', 1234567, 12),
('seoul', 'korea', 12345678, 12);
```

## 조회 select

### 모든 column 조회

```sql
SELECT * from cities;
```

### 특정 column 조회

```sql
SELECT name, country from cities;
```

### 계산된 값 조회

+, -, \*, /, ^(N제곱), |/(제곱근), @(절대값), %(나머지)

```sql
-- 인구밀도
SELECT population / area AS population_density FROM cities;
```

### 문자열 조작

-   `||` 또는 `CONCAT()` : 문자열 concat
-   `LOWER()` : 소문자 변환
-   `UPPER()` : 대문자 변환
-   `LENGTH()` : 문자열 길이

## 필터링

### where

where 문 동작

```sql
SELECT name FROM cities WHERE area > 4000;
```

-   `SELECT * FROM cities` 실행됨, 결과집합 반환
-   `WHERE area > 4000` 실행되서 해당 조건맞는 결과집합 반환
-   `SELECT name` 실행되서 이름만 반환

### where 비교문

-   `=` : 동일
-   `<>` 또는 `!=` : 동일하지 않음
-   `BETWEEN a AND b` : 두개 사이
-   `IN(a, b ...)` : list 에 있는지 확인
-   `NOT IN(a, b ...)` : [] 에 없는지 확인

# 강태현 수면어록

3747 어 저건가 맞는거같은데

## 업데이트 update

```sql
UPDATE cities SET population = 1234 WHERE name = 'Daegu';
```

### 삭제 delete

```sql
DELETE FROM cities WHERE name = 'Daegu';
```
